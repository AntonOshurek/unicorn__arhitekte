{"version":3,"file":"project-slider.js","mappings":"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","sources":["webpack://unicorn__arhitekte/./source/scripts/project-slider.js"],"sourcesContent":["\nlet projectSlider = function () {\n  const sliderBlock = document.querySelector('.project-slider__slides');\n  const thumbnails = document.querySelectorAll('.project-slider__thumbnails-button');\n  const allSlides = document.querySelectorAll('.project-slider__slide');\n\n  let currentSlide = +thumbnails[0].getAttribute('data-slide-name'); // default value for first launch\n  let slideDirection = 'left';\n\n  // for firs launch\n  setActiveSlide();\n  setActivetButton();\n\n  thumbnails.forEach(item => {\n    item.addEventListener('click', selectSlide);\n  });\n\n  function selectSlide() {\n    currentSlide = +this.getAttribute('data-slide-name');\n    setActivetButton();\n    setActiveSlide();\n  };\n\n  function setActivetButton() {\n    thumbnails.forEach((button) => {\n      if(+button.getAttribute('data-slide-name') === +currentSlide) {\n        button.classList.add('project-slider__thumbnails-button--active');\n      } else {\n        button.classList.remove('project-slider__thumbnails-button--active');\n      }\n    });\n  };\n\n  function setActiveSlide() {\n    console.log(slideDirection)\n    console.log(currentSlide)\n    allSlides.forEach((item) => {\n      item.classList.remove('project-slider__slide--active--left');\n      item.classList.remove('project-slider__slide--active--right');\n\n      if(+item.getAttribute('data-slide-name') === +currentSlide) {\n        item.classList.add(`project-slider__slide--active--${slideDirection}`);\n      }\n    });\n  };\n\n\n  //swips\n\n  let touchStart = null; //Точка начала касания\n  let touchPosition = null; //Текущая позиция\n  //Чувствительность — количество пикселей, после которого жест будет считаться свайпом\n  const sensitivity = 20;\n\n  sliderBlock.addEventListener(\"touchstart\", function (e) { TouchStart(e); }); //Начало касания\n  sliderBlock.addEventListener(\"touchmove\", function (e) { TouchMove(e); }); //Движение пальцем по экрану\n  //Пользователь отпустил экран\n  sliderBlock.addEventListener(\"touchend\", function (e) { TouchEnd(e, \"green\"); });\n  //Отмена касания\n  sliderBlock.addEventListener(\"touchcancel\", function (e) { TouchEnd(e, \"red\"); });\n\n  function TouchStart(e)  {\n    //Получаем текущую позицию касания\n    touchStart = { x: e.changedTouches[0].clientX, y: e.changedTouches[0].clientY };\n    touchPosition = { x: touchStart.x, y: touchStart.y };\n  }\n\n  function TouchMove(e) {\n    //Получаем новую позицию\n    touchPosition = { x: e.changedTouches[0].clientX, y: e.changedTouches[0].clientY };\n  }\n\n  function TouchEnd(e, color) {\n\n    CheckAction(); //Определяем, какой жест совершил пользователь\n    //Очищаем позиции\n    touchStart = null;\n    touchPosition = null;\n  }\n\n  function CheckAction()  {\n    let d = //Получаем расстояния от начальной до конечной точек по обеим осям\n    {\n    x: touchStart.x - touchPosition.x,\n    y: touchStart.y - touchPosition.y\n    };\n\n    if(Math.abs(d.x) > Math.abs(d.y)) { //Проверяем, движение по какой оси было длиннее\n      if(Math.abs(d.x) > sensitivity) { //Проверяем, было ли движение достаточно длинным\n        if(d.x > 0) { //Если значение больше нуля, значит пользователь двигал пальцем справа налево\n          slideDirection = \"right\";\n          sliderBlock.classList.add(\"right\");\n          sliderBlock.classList.remove(\"left\");\n          if(currentSlide === allSlides.length) {\n            currentSlide = thumbnails[0].getAttribute('data-slide-name');\n\n          } else {\n            currentSlide++;\n          }\n\n          setActivetButton();\n          setActiveSlide();\n        }\n\n        else { //Иначе он двигал им слева направо\n          slideDirection = \"left\";\n          sliderBlock.classList.add(\"left\");\n          sliderBlock.classList.remove(\"right\");\n          if(currentSlide === 1) {\n            currentSlide = allSlides.length;\n\n          } else {\n            currentSlide--;\n          }\n\n          setActivetButton();\n          setActiveSlide();\n        }\n\n      }\n    }\n  }\n\n};\n\nprojectSlider();\n"],"names":["projectSlider","sliderBlock","document","querySelector","thumbnails","querySelectorAll","allSlides","currentSlide","getAttribute","slideDirection","setActiveSlide","setActivetButton","forEach","item","addEventListener","selectSlide","button","classList","add","remove","console","log","touchStart","touchPosition","sensitivity","e","TouchStart","TouchMove","TouchEnd","x","changedTouches","clientX","y","clientY","color","CheckAction","d","Math","abs","length"],"sourceRoot":""}