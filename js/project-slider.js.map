{"version":3,"file":"project-slider.js","mappings":"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","sources":["webpack://unicorn__arhitekte/./source/scripts/project-slider.js"],"sourcesContent":["\nlet projectSlider = function () {\n  const sliderBlock = document.querySelector('.project-slider__slides');\n  const thumbnails = document.querySelectorAll('.project-slider__thumbnails-button');\n  const allSlides = document.querySelectorAll('.project-slider__slide');\n\n  let currentSlide = +thumbnails[0].getAttribute('data-slide-name'); // default value for first launch\n  let prevSlide = +thumbnails[thumbnails.length - 1].getAttribute('data-slide-name');\n\n\n  let slideDirection = 'right';\n  let slideEvent = 'button'; //swipe\n\n  // for firs launch\n  setActiveSlide();\n  setActivetButton();\n\n  thumbnails.forEach(item => {\n    item.addEventListener('click', selectSlide);\n  });\n\n  function setPrevSlide() {\n    if(slideDirection === 'right') {\n      if(+currentSlide === 1) {\n        prevSlide = thumbnails.length;\n      } else {\n        prevSlide = currentSlide - 1;\n      }\n    }\n\n    if(slideDirection === 'left') {\n      if(+currentSlide === thumbnails.length) {\n        prevSlide = 1;\n      } else {\n        prevSlide = currentSlide + 1;\n      }\n    }\n    hiddenPrevSlide();\n  };\n\n  function hiddenPrevSlide() {\n    allSlides.forEach((item) => {\n      item.classList.remove('project-slider__slide--hidden--left');\n      item.classList.remove('project-slider__slide--hidden--right');\n\n      if(+item.getAttribute('data-slide-name') === +prevSlide) {\n        item.classList.add(`project-slider__slide--hidden--${slideDirection}`);\n      }\n    });\n  }\n\n  function selectSlide() {\n    if(+this.getAttribute('data-slide-name') > currentSlide) {\n      slideDirection = \"right\";\n    }\n    if(+this.getAttribute('data-slide-name') < currentSlide) {\n      slideDirection = \"left\";\n    }\n\n    prevSlide = currentSlide;\n    currentSlide = +this.getAttribute('data-slide-name');\n\n    hiddenPrevSlide();\n\n    setActivetButton();\n    setActiveSlide();\n  };\n\n  function setActivetButton() {\n    thumbnails.forEach((button) => {\n      if(+button.getAttribute('data-slide-name') === +currentSlide) {\n        button.classList.add('project-slider__thumbnails-button--active');\n      } else {\n        button.classList.remove('project-slider__thumbnails-button--active');\n      }\n    });\n  };\n\n  function setActiveSlide() {\n    allSlides.forEach((item) => {\n      item.classList.remove('project-slider__slide--active--left');\n      item.classList.remove('project-slider__slide--active--right');\n\n      if(+item.getAttribute('data-slide-name') === +currentSlide) {\n        item.classList.add(`project-slider__slide--active--${slideDirection}`);\n      }\n    });\n  };\n\n\n  //swips\n\n  let touchStart = null; //Точка начала касания\n  let touchPosition = null; //Текущая позиция\n  //Чувствительность — количество пикселей, после которого жест будет считаться свайпом\n  const sensitivity = 20;\n\n  sliderBlock.addEventListener(\"touchstart\", function (e) { TouchStart(e); }); //Начало касания\n  sliderBlock.addEventListener(\"touchmove\", function (e) { TouchMove(e); }); //Движение пальцем по экрану\n  //Пользователь отпустил экран\n  sliderBlock.addEventListener(\"touchend\", function (e) { TouchEnd(e, \"green\"); });\n  //Отмена касания\n  sliderBlock.addEventListener(\"touchcancel\", function (e) { TouchEnd(e, \"red\"); });\n\n  function TouchStart(e)  {\n    //Получаем текущую позицию касания\n    touchStart = { x: e.changedTouches[0].clientX, y: e.changedTouches[0].clientY };\n    touchPosition = { x: touchStart.x, y: touchStart.y };\n  }\n\n  function TouchMove(e) {\n    //Получаем новую позицию\n    touchPosition = { x: e.changedTouches[0].clientX, y: e.changedTouches[0].clientY };\n  }\n\n  function TouchEnd(e, color) {\n\n    CheckAction(); //Определяем, какой жест совершил пользователь\n    //Очищаем позиции\n    touchStart = null;\n    touchPosition = null;\n  }\n\n  function CheckAction()  {\n    let d = //Получаем расстояния от начальной до конечной точек по обеим осям\n    {\n    x: touchStart.x - touchPosition.x,\n    y: touchStart.y - touchPosition.y\n    };\n\n    if(Math.abs(d.x) > Math.abs(d.y)) { //Проверяем, движение по какой оси было длиннее\n      if(Math.abs(d.x) > sensitivity) { //Проверяем, было ли движение достаточно длинным\n        if(d.x > 0) { //Если значение больше нуля, значит пользователь двигал пальцем справа налево\n          slideDirection = \"right\";\n          sliderBlock.classList.remove(\"left\");\n          sliderBlock.classList.add(\"right\");\n          if(currentSlide === allSlides.length) {\n            currentSlide = thumbnails[0].getAttribute('data-slide-name');\n\n          } else {\n            currentSlide++;\n          }\n\n          setPrevSlide();\n\n          setActivetButton();\n          setActiveSlide();\n        }\n\n        else { //Иначе он двигал им слева направо\n          slideDirection = \"left\";\n          sliderBlock.classList.remove(\"right\");\n          sliderBlock.classList.add(\"left\");\n          if(currentSlide === 1) {\n            currentSlide = allSlides.length;\n\n          } else {\n            currentSlide--;\n          }\n\n          setPrevSlide();\n\n          setActivetButton();\n          setActiveSlide();\n        }\n\n      }\n    }\n  }\n\n};\n\nprojectSlider();\n"],"names":["projectSlider","sliderBlock","document","querySelector","thumbnails","querySelectorAll","allSlides","currentSlide","getAttribute","prevSlide","length","slideDirection","slideEvent","setActiveSlide","setActivetButton","forEach","item","addEventListener","selectSlide","setPrevSlide","hiddenPrevSlide","classList","remove","add","button","touchStart","touchPosition","sensitivity","e","TouchStart","TouchMove","TouchEnd","x","changedTouches","clientX","y","clientY","color","CheckAction","d","Math","abs"],"sourceRoot":""}